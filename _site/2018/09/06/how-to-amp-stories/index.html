<!DOCTYPE html>
<html lang="en" class="w-100 h-100">
  <head>
    <meta charset="utf-8">
    <title>How to make AMP stories using Jekyll and Github Pages</title>
    <meta name="description" content="Ruffin Scott. Think. Create.">

    

<link href='https://fonts.googleapis.com/css?family=Libre+Franklin:400,400italic,600,700,300,800|IBM+Plex+Mono|Inconsolata:400,700' rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="/css/tachyons.min.css">
<link rel="stylesheet" href="/css/hamburgers.css">


<link href="/css/all.css" rel="stylesheet">
<link href="/css/mobile.css" rel="stylesheet">

<link rel="icon" href="/images/favicon.png" />

<meta name="viewport" content="width=device-width">

<script src="//code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="/js/feather.min.js" type="text/javascript"></script>

<!--Custom Jquery UI only used for slidetoggle left/right-->
<script src="/js/jquery-ui.min.js" type="text/javascript"></script>


<link rel="alternate" type="application/rss+xml" title="RSS Feed for ruffinscott.com" href="/feed.xml" />


 <meta property="og:type"   content="article" />
 <meta property="og:url"    content="https://ruffinscott.com.com/2018/09/06/how-to-amp-stories/" />
 <meta property="og:title"  content="How to make AMP stories using Jekyll and Github Pages" />
 <meta name="og:description" content="Tap tap tap">
 
 <meta property="og:image"  content="https://tomcritchlow.com/images/green.png" />
 
 <meta property="og:image:width"  content="600" />
 <meta property="og:image:height"  content="315" />



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@tomcritchlow">
<meta name="twitter:creator" content="@tomcritchlow">
<meta name="twitter:title" content="How to make AMP stories using Jekyll and Github Pages">
<meta name="twitter:description" content="Tap tap tap">

<meta name="twitter:image" content="https://tomcritchlow-tom_og.web.val.run/?headline=How to make AMP stories using Jekyll and Github Pages&subheadline=Tap tap tap&date=September 6, 2018">





 
<meta name="pocket-site-verification" content="d481265d27c9597cbdc003abbf1994" />

<link rel="webmention" href="https://webmention.io/tomcritchlow.com/webmention" />
<link rel="pingback" href="https://webmention.io/tomcritchlow.com/xmlrpc" />



</head>

<body class="ph0-l center">

<!--From GA include-->




<script defer data-domain="tomcritchlow.com" src="https://plausible.io/js/script.js"></script>



<style>
#nav{
    width:223px;
    height:100vh;
  }

  #maincontent{
    margin-left:223px;
  }

  @media (max-width: 1024px) {
      #nav{
          width:100%;
      }

      #maincontent{
          margin-left:auto;
      }
  }
</style>


<div class="dn-l db w-100 pa3 bg-near-white z-1" style="position:sticky;top:0px">
    <a class="link dim dark-gray f6 f5-l dib ttu pt2 pt0-l dtc-l v-mid newgreen b" href="/" title="Home">RUFFIN SCOTT </a>
    <div class="fr dib dn-l pt1">    
        <div id="hamburger" class="hamburger hamburger--squeeze">
                <div class="hamburger-box">
                  <div class="hamburger-inner"></div>
                </div>
              </div>
    
    </div>
</div>

<div class="flex items-stretch h-100 w-100">
  
    

    

    <div id="nav" class="w5 bg-near-white f7 fw4 br-l bt-0-l bb-0-l bt bb b--black-10 fixed dn db-l top-0-l left-0 overflow-y-scroll z-1 pt2 pt0-l">
      
      
      
    
      <a class="db-l dn  items-center ma2 ph3 pa2 mv3 mb4-l link fw8 f6 br3 newgreen" href="/">
        TOM CRITCHLOW
      </a>
    


<a class="db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Home" href="/">
    <i data-feather="home" class="h1 pr3"></i> <span class="navname">Home</span>
  </a>


<a class="db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="About me" href="/about">
    <i data-feather="user" class="h1 pr3"></i> <span class="navname">About me</span>
  </a>


<a class="db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Writing" href="/writing">
    <i data-feather="rss" class="h1 pr3"></i> <span class="navname">Writing</span>
  </a>


<a class="db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Library" href="/library">
    <i data-feather="layers" class="h1 pr3"></i> <span class="navname">Library</span>
  </a>


<a class="db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Newsletter" href="/newsletter">
    <i data-feather="mail" class="h1 pr3"></i> <span class="navname">Newsletter</span>
  </a>


<a class="db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Search" href="/search">
    <i data-feather="search" class="h1 pr3"></i> <span class="navname">Search</span>
  </a>



<div class="mv4">
    <div class="newgreen mh3 ph2 mv2 navname">Hire me</div>


<a class=" db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Consulting" href="/consulting">
    <i data-feather="git-merge" class="h1 pr3"></i> <span class="navname">Consulting</span>
  </a>

<a class=" db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Advisor" href="/advisor">
    <i data-feather="git-pull-request" class="h1 pr3"></i> <span class="navname">Advisor</span>
  </a>

</div>

<div class="mv4">
    <div class="newgreen mh3 ph2 mv2 navname">Elsewhere</div>


<a class=" db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Twitter" href="https://twitter.com/tomcritchlow/">
    <i data-feather="twitter" class="h1 pr3"></i> <span class="navname">Twitter</span>
  </a>

<a class=" db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="LinkedIn" href="https://www.linkedin.com/in/tomcritchlow/">
    <i data-feather="linkedin" class="h1 pr3"></i> <span class="navname">LinkedIn</span>
  </a>

<a class=" db flex items-center mh3 pa2 bg-animate hover-bg-white link black br3 ttu" id="Are.na" href="https://www.are.na/tom-critchlow/index">
    <i data-feather="bookmark" class="h1 pr3"></i> <span class="navname">Are.na</span>
  </a>

</div>

      
      </div>

<script>
    
var $hamburger = $("#hamburger");
            $hamburger.on("click", function(e) {

              $hamburger.toggleClass("is-active");
              $("#nav").toggleClass("dn");
   
            }); 
      
            feather.replace();

function addClassBasedOnUrlWithSwitch() {
  // Get the current URL
  const url = window.location.href;
  
  switch (true) {
    case url == "https://ruffinscott.com/":
      const div0 = document.getElementById("Home");
      if (div0) {
        div0.classList.add('bg-white');
      }
      break;
    case url.includes("https://tomcritchlow.com/?"):
      const div1 = document.getElementById("Home");
      if (div1) {
        div1.classList.add('bg-white');
      }
      break;      
    case url.includes("/about/"):
      const div2 = document.getElementById("About me");
      if (div2) {
        div2.classList.add('bg-white');
      }
      break;
    case url.includes("/writing/"):
      const div3 = document.getElementById("Writing");
      if (div3) {
        div3.classList.add('bg-white');
      }
      break;
    case url.includes("/newsletter"):
      const div4 = document.getElementById("Newsletter");
      if (div4) {
        div4.classList.add('bg-white');
      }
      break;
    case url.includes("/search"):
      const div5 = document.getElementById("Search");
      if (div5) {
        div5.classList.add('bg-white');
      }
      break;
    case url.includes("/start-here"):
      const div6 = document.getElementById("Start here");
      if (div6) {
        div6.classList.add('bg-white');
      }
      break;
    case url.includes("/topics/"):
      const div7 = document.getElementById("Topics");
      if (div7) {
        div7.classList.add('bg-white');
      }
      break;                              
    
    default:
      // Code to run if none of the above cases are true
      break;
  }
}

// Call the function
addClassBasedOnUrlWithSwitch();



</script>

    <div class="w-100 h-100" id="maincontent">
      <div class="mw8 center w-100 h-100">
        
    
        
    






<div class="pt4 pt5-l pb2 w-two-thirds-ns center">

<div class="f4 ph3 pb4 ph0-l lh-copy">

  
<div class="bb b--newgreen w-100 ibmplexmono ttu f6 dt-published mb5" datetime="2018-09-06 00:00:00 -0400">
    September 6, 2018
  </div>
  
        <h1 class="f2 fw8 lh-solid mv1 posttitle p-name">How to make AMP stories using Jekyll and Github Pages</h1>
  
      
      <h2 class="f3 fw3 lh-copy mt1 subtitle pb2 p-summary i">Tap tap tap</h2>
        
    
    <div class="postcontainer">
    <p>The tappable web is an interesting place. These days discussion of tappable stories is dominated by Instagram. The Instagram stories format is, perhaps, the fastest growing media format of all time.</p>

<p>There are a handful of other story formats floating around. For example:</p>

<ul>
  <li>Twitter moments (<a href="https://twitter.com/i/moments/1034070233189892096?lang=en">example</a>)</li>
  <li>Instagram stories (<a href="https://www.instagram.com/stories/highlights/17907535984221261/">example</a>)</li>
  <li>Giphy stories (<a href="https://giphy.com/stories/cat-puns-1579651e-a258">example</a>)</li>
  <li>Medium series (<a href="https://medium.com/series/the-best-story-in-global-health-d5442f7aee12">example</a>) (<em>ironically these are user-hostile on mobile, forcing you to read them on desktop or in the native app….</em>)</li>
</ul>

<p>In my mind, this whole genre started with Fish: a Tap Essay from Robin Sloan. And it recently got re-mastered! I strongly encourage you to check it out: <a href="https://www.robinsloan.com/fish/">https://www.robinsloan.com/fish/</a>.</p>

<h2 id="amp-stories">AMP Stories</h2>

<p>To date, none of the tappable story implementations have worked well on the web but the closest is <a href="https://www.ampproject.org/stories/">AMP stories</a>. Until recently they were highly experimental and you had to get your domain whitelisted by Google to try them. But AMP stories just reached V1.0 and is now available for everyone.</p>

<p>So I thought I’d play around!</p>

<p>I should say before I go further that I do have some reservations about AMP. Namely:</p>

<ul>
  <li>I’m wary of AMP generally. I think the end result of AMP speeding up the web is a GOOD THING, but the centralization and move away from the open web is troubling.</li>
  <li>AMP stories are still kind of clunky. There’s no swiping to advance. They’re just not as performant or smooth as native Instagram stories.</li>
  <li>Google’s mishandling of cache problems and URL linking demonstrates a poor understanding of the web.</li>
</ul>

<p>But, I like the way I can host story-format content on my own domain. So let’s play around and have some fun!</p>

<h2 id="how-do-you-build-a-cms-for-tappable-stories">How do you build a CMS for tappable stories?</h2>

<p>As I began thinking about making AMP stories and building some kind of generator for them I began to study the “CMS” of Instagram stories and marvelled both at the depth and complexity of it and how much is hidden beneath the surface. It’s an incredibly powerful platform that generates a huge array of types of stories without feeling burdensome.</p>

<p>For those that want a little more theory and noodling on web-based stories you should definitely check out Stephanie and Bryan Rieger’s explorations building hopscotch with Mozilla:</p>

<p><a href="https://medium.com/twill/rethinking-the-creative-web-our-journey-to-reimagine-web-publishing-for-the-social-web-26c2f347fcd0">Rethinking the creative web: Our journey to reimagine ‘web publishing’ for the social web</a></p>

<p>And for a more code-focused approach the team at Mic developed an open format called story-json that is designed to allow content to exist across multiple “story” platforms. I don’t think it’s actively maintained but it’s an interesting attempt at abstraction:</p>

<p><a href="https://medium.com/readme-mic/introducing-a-cross-platform-format-for-tap-through-stories-59bdbd3ad863">Introducing a cross-platform format for tap-through stories</a></p>

<p>In short - I have no idea how you’d go about building a web-based CMS to generate stories to the level of creativity you can get with Instagram stories but I’m sure someone will figure it out.</p>

<p>For me, I decided to build a bare bones generator that I could extend and play with…</p>

<h2 id="copy-my-code-github">Copy my code github!</h2>

<p>Warning - there be dragons ahead! Badly coded dragons… I’m not a developer or a designer so you’ll see this whole thing is a little rough around the edges.</p>

<p>This blog is hosted on Github pages using the Jekyll framework. It’s a markdown heavy format but allows for liquid templating and while I thought about generating AMP stories using content blocks I decided using the frontmatter was a simpler approach.</p>

<p>So first I created an ampstory.html layout file:</p>

<p><img src="/images/ampcode2.png" alt="" /></p>

<p><a href="https://github.com/tomcritchlow/tomcritchlow.github.io/blob/master/_layouts/ampstory.html">View the file on Github</a></p>

<p>And then everything is done in the front matter of a story file like this:</p>

<p><img src="/images/ampcode.png" alt="" /></p>

<p><a href="https://github.com/tomcritchlow/tomcritchlow.github.io/blob/master/_stories/space.md">View a sample story file here</a></p>

<h2 id="how-to-use-this-to-make-amp-stories">How to use this to make AMP stories</h2>

<p>The way I’ve set it up - if you copy my layouts they work as follows:</p>

<p>The cover takes the following fields:</p>

<ul>
  <li>“title:” which is the main story title</li>
  <li>“subtitle:” which is the subtitle</li>
  <li>“background:” which takes an image URL and makes a full screen background image</li>
</ul>

<p>Then every page object works like this:</p>

<ul>
  <li>“Layout: thirds” divides the page into three horizontal rows of equal height to place HTML inside.</li>
  <li>“Layout: vertical” allows for “stacking” of content but it’s not very sophisticated. Right now I’ve set it up to have a top, image and bottom defined with the image taking up most of the page and full width. It’s crude but allows for in-line images.</li>
  <li>“background” takes an image URL and makes a full screen image background for the page</li>
  <li>“cta” takes two children, link and text which go to the link URL and the anchor text</li>
  <li>“textcolor:” which allows you to change the text color on the page to something other than default white</li>
  <li>“backgroundblur:” when set to true it adds a filter:blur(2px) brightnesss(90%) to the background image</li>
</ul>

<p>Two important notes for furthering creativity: the frontmatter supports emojis 🔥 and amp stories support gifs.</p>

<p>You’ll see that this is all pretty crude and easily extensible. For more of an idea of what is possible take a look at <a href="https://www.cnn.com/ampstories/">CNN’s AMP stories</a>.</p>

<p>Alternatively - I also made a super simple format that just takes a single input - a folder path. Then it generates an AMP story from all the images in that folder. See an <a href="https://github.com/tomcritchlow/tomcritchlow.github.io/blob/master/_stories/gallery.md">example file here</a>.</p>

<h2 id="heres-a-few-example-stories-i-made">Here’s a few example stories I made:</h2>

<p>So! With all of that out of the way - what have I been playing around with? Here’s a few fun little stories I’ve been using to test out the functionality:</p>

<p><a href="https://tomcritchlow.com/stories/space/">Amazing Space Colony Art from the 1970s</a> - this story is based on an article I read about this amazing space colony art that NASA commissioned in the 70s. Perfect space-gaping images for AMP stories.</p>

<p><a href="https://tomcritchlow.com/stories/left-hand-darkness/">Why you should read the left hand of darkness by Ursula K Leguin</a> - I recently finished this book and thought book covers make for interesting AMP story content.</p>

<p><a href="https://tomcritchlow.com/stories/nba/">Hoop loops - fun basketball gifs</a> - you can use gifs in AMP stories!</p>

<p>And if you want to peek under the hood you can see all of the <a href="https://github.com/tomcritchlow/tomcritchlow.github.io/tree/master/_stories">raw files on github here</a>.</p>

<h2 id="where-next">Where next?</h2>

<p>In summary - I think AMP stories have a long way to go before they feel anywhere near as fluid and fun as Instagram stories. The layout is more restrictive and there are lots of small interactions that just don’t work as well (little things like tap delays, no swiping, animations etc).</p>

<p>One feature that is especially clunky right now is adding links. But I’m excited that as of two weeks ago this project is being worked on to function much more like Instagram stories with a double-tap UI: <a href="https://github.com/ampproject/amphtml/issues/16521">https://github.com/ampproject/amphtml/issues/16521</a>.</p>

<p>It’s still fun to be able to play around with this new kind of format on my own domain. And I’m excited for where things go next.</p>

<p>If you make anything from this code @ me on twitter (@tomcritchlow) or leave a comment below!</p>

<p>–</p>

<p>Update (9/17) - the BBC Labs posted a quick article with some thoughts about using and building AMP stories here: <a href="https://medium.com/bbc-news-labs/experiments-with-amps-new-stories-format-3a2a1103cee">https://medium.com/bbc-news-labs/experiments-with-amps-new-stories-format-3a2a1103cee</a>. It includes <a href="https://cdn-images-1.medium.com/max/1000/1*NyXL2eo_9ByQs7oZXV7dpQ.png">this wild image</a> showing their CMS. Love it.</p>

  </div>

    
    <hr class="w3 mv5">
    

  

  
  <div class="w-100 mv3 pa3 ba b--newgreen br2 f5 bg-near-white">
    <div class="b pv1">More blog posts:</div>
    
    <div class="flex w-100">
      <p class="pv0 mv1"><a href="/2025/06/27/taking-blogging-seriously/">Taking Blogging Seriously</a></p>
      <p class="f6 black-50 ml-auto w-20-l w-40 tr pv0 mv1">June 27, 2025</p>
    </div>
    
    
    <div class="flex w-100">
      <p class="pv0 mv1"><a href="/2025/03/21/better-ai-mode/">Google is Grounded and Needs to Learn How to Soar</a></p>
      <p class="f6 black-50 ml-auto w-20-l w-40 tr pv0 mv1">March 21, 2025</p>
    </div>
    
    
    <div class="flex w-100">
      <p class="pv0 mv1"><a href="/2024/09/03/3573-on-the-road/">3,573 Days On The Road</a></p>
      <p class="f6 black-50 ml-auto w-20-l w-40 tr pv0 mv1">September 3, 2024</p>
    </div>
    
    
        
    <div class="bt b--black-10 mt3">
      <p>This post was written by Tom Critchlow - blogger and independent consultant. Subscribe to join my occassional newsletter:</p>
        <form action="https://buttondown.email/api/emails/embed-subscribe/tomcritchlow" method="post" target="popupwindow" onsubmit="window.open('https://buttondown.email/tomcritchlow', 'popupwindow')" class="embeddable-buttondown-form flex items-center w-100 f5">
            <input placeholder="Email Address" type="email" name="email" id="bd-email" class="bg-light-gray w-100 input-reset ba b--black-20 pv2 ph3 border-box br2 br--left">
            <input type="hidden" name="metadata__cta" value="blogend">
            <input type="submit" value="Subscribe" class="input-reset w-auto-ns pv2 ph3 ba b--newgreen bg-light-gray br2 br--right pointer">
            </form>
    </div>
        
    </div>
    



<hr class="w3 mv5">


<script>

    $( document ).ready(function() {
        var footnotes = $(".footnotes p");
        $("sup").each(function(index){
            var fn = footnotes[index].removeChild(footnotes[index].lastChild);
            $(this).replaceWith("<label for='"+index+"' class='margin-toggle sidenote-number'></label><input type='checkbox' id='"+index+"' class='margin-toggle'/><span class='sidenote'>"+footnotes[index].innerHTML+"</span>")  
        });   
        $(".footnotes").hide()
    });    
       

    </script>


<script type="application/json" class="js-hypothesis-config">
  {
    "openSidebar": false,
    "theme": "clean"
  }
</script>


<script src="https://hypothes.is/embed.js" async></script>

<script type="text/javascript">

window.hypothesisConfig = function () {
  return {
    branding: {
      appBackgroundColor: 'white',
      ctaBackgroundColor: 'rgba(3, 11, 16, 1)',
      ctaTextColor: '#eee',
      selectionFontFamily: 'helvetica, arial, sans serif'
    }
  };
};

if ($(window).width()<600){
      window.hypothesisConfig = function () {
        return {
          "externalContainerSelector": "#hypbox",
          "onLayoutChange": function(layout) {
            if (layout.expanded) {
              $('#hypbox').show();
            } else {
              $('#hypbox').hide();
            }
          }
        };
      };
    };
</script>

<script defer src="https://cdn.commento.io/js/commento.js"></script>
<div id="commento"></div>



</div>
</div>

<div id="hypbox" style="display:none;width:100%;height:65%;position:fixed;bottom:0px;border-top:1px solid #02AD28;">
      
</div>

</div>

      
    </div>
      
    </div>
    </div>
    
    
    
    
    <script>
      feather.replace();
    </script>

    </body>
    </html>